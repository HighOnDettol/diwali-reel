<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>✨ Diwali — Festival of Lights ✨</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Merriweather:wght@400;500&display=swap');

*{margin:0;padding:0;box-sizing:border-box;}
body{
  overflow:hidden;
  background:#fffaf3;
  font-family:'Merriweather',serif;
  color:#5b3a0a;
}

/* 9:16 aspect ratio for reels */
.scene{
  position:absolute;
  top:0;left:0;
  width:100%;
  height:100vh;
  aspect-ratio:9/16;
  object-fit:cover;
  background-size:cover;
  background-position:center;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  opacity:0;
  transform:scale(1);
  transition:opacity 1.2s ease-in-out, transform 7s ease-in-out;
}
.scene.active{
  opacity:1;
  transform:scale(1.04);
}

/* clear overlay for crisp images */
.scene.active::after{
  content:'';
  position:absolute;
  inset:0;
  background:rgba(255,255,255,0.05);
}

/* text box styling */
.textbox{
  position:relative;
  z-index:2;
  background:rgba(255,255,255,0.35);
  backdrop-filter:blur(5px);
  border-radius:1.5rem;
  padding:1.8rem 2.2rem;
  text-align:center;
  max-width:82%;
  color:#4b2907;
  text-shadow:0 0 12px #fff0cc;
  box-shadow:0 0 25px rgba(255,214,102,0.25);
  border:1px solid rgba(255,215,150,0.4);
  animation:fadein 2s ease forwards;
}
@keyframes fadein{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}

/* festive heading font — deep golden shimmer */
.textbox h2{
  font-family:'Great Vibes',cursive;
  font-size:2.6rem;
  margin-bottom:0.7rem;
  background:linear-gradient(135deg,#8B6914,#B8860B,#9B7E2F,#8B6914);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  letter-spacing:1px;
  text-shadow:0 0 20px rgba(139,105,20,0.6);
  filter:drop-shadow(0 2px 10px rgba(139,105,20,0.5));
  -webkit-text-stroke:1.5px #000;
  paint-order:stroke fill;
}

/* paragraph text */
.textbox p{
  font-size:1.1rem;
  line-height:1.7;
  color:#4b2d08;
}

/* floating sparkles */
.particle{
  position:absolute;
  bottom:-20px;
  background:radial-gradient(circle,#a8d8ff 0%,rgba(168,216,255,0) 70%);
  border-radius:50%;
  opacity:0.8;
  animation:floatUp linear infinite;
}
@keyframes floatUp{
  0%{transform:translateY(0) scale(1);opacity:1;}
  100%{transform:translateY(-120vh) scale(0.5);opacity:0;}
}

/* logo */
.logo{
  position:absolute;
  bottom:20px;
  right:20px;
  width:110px;
  opacity:0.8;
  z-index:3;
  transition:opacity 0.4s ease;
}
.logo:hover{opacity:1;}

/* download button */
.download-btn{
  position:fixed;
  top:20px;
  left:20px;
  z-index:999;
  background:linear-gradient(135deg,#d4af37,#c9a961);
  color:#fff;
  border:none;
  padding:12px 24px;
  border-radius:25px;
  font-family:'Merriweather',serif;
  font-size:0.95rem;
  font-weight:500;
  cursor:pointer;
  box-shadow:0 4px 15px rgba(212,175,55,0.4);
  transition:all 0.3s ease;
}
.download-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 20px rgba(212,175,55,0.6);
}
.download-btn:active{
  transform:translateY(0);
}

audio{display:none;}

/* final message styling — deep golden shimmer */
.wish-text{
  font-family:'Great Vibes',cursive;
  font-size:1.8rem;
  margin-top:1.6rem;
  background:linear-gradient(135deg,#8B6914,#B8860B,#9B7E2F,#8B6914);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  letter-spacing:0.4px;
  text-shadow:0 0 20px rgba(139,105,20,0.6);
  filter:drop-shadow(0 2px 10px rgba(139,105,20,0.5));
  -webkit-text-stroke:1.5px #000;
  paint-order:stroke fill;
}
</style>
</head>

<body>
<button class="download-btn" onclick="recordVideo()">📥 Download as MP4</button>

<audio autoplay loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<!-- scenes -->
<div class="scene" style="background-image:url('sparkle-bg.jpg')">
  <div class="textbox">
    <h2>🪔 Diwali — The Festival of Lights 🪔</h2>
    <p>Homes across India glow with diyas and laughter, celebrating the triumph of light over darkness and hope over despair.</p>
  </div>
</div>

<div class="scene" style="background-image:url('diyas1.jpg')">
  <div class="textbox">
    <h2>Lighting Diyas</h2>
    <p>Each tiny flame whispers warmth and faith — a symbol of clarity lighting every heart.</p>
  </div>
</div>

<div class="scene" style="background-image:url('rangoli1.jpg')">
  <div class="textbox">
    <h2>Colors of Welcome</h2>
    <p>Rangolis bloom with morning light — petals, powders, and joy greeting prosperity at every doorstep.</p>
  </div>
</div>

<div class="scene" style="background-image:url('sweets1.jpg')">
  <div class="textbox">
    <h2>Sweet Traditions</h2>
    <p>Laddus and barfis shared with love — wishing every bond sweetness and peace for the days ahead.</p>
  </div>
</div>

<div class="scene" style="background-image:url('lights1.jpg')">
  <div class="textbox">
    <h2>Homes Aglow</h2>
    <p>Lanterns shimmer like dreams — streets wrapped in gold, hearts aglow with harmony and joy.</p>
  </div>
</div>

<!-- closing slide -->
<div class="scene" style="background-image:url('hamper.jpg')">
  <div class="textbox">
    <h2>Celebrate With Heart</h2>
    <p>From diyas to laughter, from gifts to togetherness — may your Diwali shine as brightly as your spirit. ✨</p>
    <div class="wish-text">Biswajit Sarkar Advocates — IP Attorneys<br>wish you a happy, safe & joyous Diwali 🪔</div>
  </div>
</div>

<img src="logo (2).jpg" alt="Biswajit Sarkar Advocates and IP Attorneys" class="logo">

<script>
const scenes=document.querySelectorAll('.scene');
let index=0;
const displayTime=5000; // ~5s per scene

function showScene(i){
  scenes.forEach((s,j)=>s.classList.toggle('active',j===i));
}
showScene(0);
setInterval(()=>{
  index=(index+1)%scenes.length;
  showScene(index);
},displayTime);

// floating sparkles
function createParticle(){
  const p=document.createElement('div');
  p.classList.add('particle');
  const size=Math.random()*10+10;
  p.style.width=`${size}px`;
  p.style.height=`${size}px`;
  p.style.left=`${Math.random()*window.innerWidth}px`;
  p.style.animationDuration=`${4+Math.random()*6}s`;
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),10000);
}
setInterval(createParticle,180);

// Video recording function
async function recordVideo(){
  const btn=document.querySelector('.download-btn');
  btn.textContent='🎥 Recording...';
  btn.disabled=true;
  
  // Calculate 9:16 dimensions based on screen
  const targetWidth=1080;
  const targetHeight=1920;
  
  try{
    const stream=await navigator.mediaDevices.getDisplayMedia({
      video:{
        displaySurface:'browser',
        width:{ideal:targetWidth},
        height:{ideal:targetHeight}
      },
      audio:false
    });
    
    const mediaRecorder=new MediaRecorder(stream,{
      mimeType:'video/webm;codecs=vp9',
      videoBitsPerSecond:8000000
    });
    
    const chunks=[];
    mediaRecorder.ondataavailable=e=>chunks.push(e.data);
    
    mediaRecorder.onstop=()=>{
      const blob=new Blob(chunks,{type:'video/webm'});
      const url=URL.createObjectURL(blob);
      const a=document.createElement('a');
      a.href=url;
      a.download=`Diwali_Wishes_${Date.now()}.webm`;
      a.click();
      URL.revokeObjectURL(url);
      
      stream.getTracks().forEach(track=>track.stop());
      btn.textContent='✅ Downloaded!';
      setTimeout(()=>{
        btn.textContent='📥 Download as MP4';
        btn.disabled=false;
      },2000);
    };
    
    // Record full cycle (6 scenes × 5s each)
    const totalTime=scenes.length*displayTime;
    mediaRecorder.start();
    
    setTimeout(()=>{
      mediaRecorder.stop();
    },totalTime+500);
    
  }catch(err){
    console.error('Recording failed:',err);
    btn.textContent='❌ Recording failed';
    setTimeout(()=>{
      btn.textContent='📥 Download as MP4';
      btn.disabled=false;
    },2000);
  }
}
</script>
</body>
</html>
